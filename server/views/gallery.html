<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ü¶û Claw Vault ‚Äî Gallery</title>

<meta property="og:type" content="website">
<meta property="og:title" content="ü¶û Claw Vault ‚Äî Collectible AI Agent Cards">
<meta property="og:description" content="Browse the collection of AI agent collectible cards. Each Clawdbot agent gets a unique card based on their health, stats, and personality.">
<meta property="og:site_name" content="Claw Vault">
<meta name="theme-color" content="#1a1614">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700;900&display=swap" rel="stylesheet">

<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{--font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif}
html{-webkit-font-smoothing:antialiased}
body{
  font-family:var(--font);color:#f5ebe0;
  min-height:100vh;
  background:#1a1614;
  background-image:
    radial-gradient(ellipse at 30% 20%,rgba(180,120,40,.06) 0%,transparent 50%),
    radial-gradient(ellipse at 70% 80%,rgba(160,100,30,.05) 0%,transparent 50%),
    radial-gradient(circle at 50% 50%,#211d1a 0%,#1a1614 100%);
}
body::before{
  content:'';position:fixed;inset:0;z-index:0;pointer-events:none;
  background-image:radial-gradient(rgba(255,220,180,.02) 1px,transparent 1px);
  background-size:28px 28px;
}

/* ‚îÄ‚îÄ‚îÄ Nav ‚îÄ‚îÄ‚îÄ */
.nav{
  position:relative;z-index:10;
  display:flex;align-items:center;gap:24px;
  padding:16px 24px;max-width:1200px;margin:0 auto;
}
.nav-brand{
  font-size:11px;font-weight:700;letter-spacing:4px;text-transform:uppercase;
  color:#d4c4b0;text-decoration:none;display:flex;align-items:center;gap:6px;
}
.nav-brand .lobster{font-size:16px;filter:saturate(0.6)}
.nav-links{display:flex;gap:20px;margin-left:auto}
.nav-links a{
  font-size:11px;font-weight:600;letter-spacing:1px;text-transform:uppercase;
  color:#8a7b6b;text-decoration:none;transition:color .3s;
}
.nav-links a:hover,.nav-links a.active{color:#f5ebe0}

/* ‚îÄ‚îÄ‚îÄ Header ‚îÄ‚îÄ‚îÄ */
.gallery-header{
  position:relative;z-index:1;text-align:center;
  padding:24px 16px 0;
}
.gallery-header h1{
  font-size:11px;letter-spacing:8px;text-transform:uppercase;color:#8a7b6b;
  font-weight:600;margin-bottom:4px;
}
.gallery-header h1 .lobster{font-size:16px;margin-right:4px;filter:saturate(0.6)}
.gallery-header .sub{font-size:10px;color:#6b5e52;letter-spacing:3px;margin-bottom:24px}
.gallery-header .count{font-size:12px;color:#8a7b6b;margin-bottom:20px}

/* ‚îÄ‚îÄ‚îÄ Controls ‚îÄ‚îÄ‚îÄ */
.controls{
  position:relative;z-index:1;
  display:flex;gap:8px;justify-content:center;flex-wrap:wrap;
  padding:0 16px 24px;
}
.controls button{
  background:rgba(255,245,230,.04);border:1px solid rgba(255,220,180,.08);
  color:#a89984;padding:6px 16px;border-radius:20px;cursor:pointer;
  font:600 11px var(--font);letter-spacing:.5px;transition:all .3s;
}
.controls button:hover{background:rgba(255,245,230,.08);color:#d4c4b0;transform:translateY(-1px)}
.controls button.active{
  background:rgba(255,245,230,.1);color:#f5ebe0;
  border-color:rgba(255,220,180,.2);box-shadow:0 2px 12px rgba(0,0,0,.3);
}
.controls .sep{
  width:1px;background:rgba(255,220,180,.08);margin:0 4px;align-self:stretch;
}

/* ‚îÄ‚îÄ‚îÄ Card Grid ‚îÄ‚îÄ‚îÄ */
.card-grid{
  position:relative;z-index:1;
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(220px,1fr));
  gap:24px;padding:0 24px 48px;max-width:1200px;margin:0 auto;
}

/* ‚îÄ‚îÄ‚îÄ Keyframes ‚îÄ‚îÄ‚îÄ */
@keyframes leviathan-border-cycle{
  0%,100%{border-color:rgba(231,76,60,.25);box-shadow:0 0 18px rgba(231,76,60,.12),0 0 40px rgba(231,76,60,.04),inset 0 1px 0 rgba(255,245,230,.04),inset 0 -2px 4px rgba(0,0,0,.15)}
  33%{border-color:rgba(245,158,11,.25);box-shadow:0 0 18px rgba(245,158,11,.12),0 0 40px rgba(245,158,11,.04),inset 0 1px 0 rgba(255,245,230,.04),inset 0 -2px 4px rgba(0,0,0,.15)}
  66%{border-color:rgba(52,152,219,.25);box-shadow:0 0 18px rgba(52,152,219,.12),0 0 40px rgba(52,152,219,.04),inset 0 1px 0 rgba(255,245,230,.04),inset 0 -2px 4px rgba(0,0,0,.15)}
}
@keyframes leviathan-holo-pulse{
  0%,100%{opacity:.25}
  50%{opacity:.5}
}
@keyframes adult-glow-pulse{
  0%,100%{box-shadow:0 0 12px rgba(139,92,246,.08),inset 0 1px 0 rgba(255,245,230,.04),inset 0 -2px 4px rgba(0,0,0,.15)}
  50%{box-shadow:0 0 20px rgba(139,92,246,.15),inset 0 1px 0 rgba(255,245,230,.04),inset 0 -2px 4px rgba(0,0,0,.15)}
}

/* ‚îÄ‚îÄ‚îÄ Mini Card ‚Äî Base (Slab Effect) ‚îÄ‚îÄ‚îÄ */
.mini-card{
  background:rgba(255,245,230,.03);
  border:1px solid rgba(255,220,180,.06);
  border-radius:12px;padding:16px;cursor:pointer;
  transition:all .35s cubic-bezier(.4,0,.2,1);
  position:relative;overflow:hidden;
  text-decoration:none;color:inherit;
  display:flex;flex-direction:column;
  min-height:240px;
  box-shadow:inset 0 1px 0 rgba(255,245,230,.04),inset 0 -2px 4px rgba(0,0,0,.15);
  --mouse-x:0.5;--mouse-y:0.5;--rx:0deg;--ry:0deg;
}

/* Glass reflection line (::before) ‚Äî all cards */
.mini-card::before{
  content:'';position:absolute;inset:0;border-radius:12px;
  background:linear-gradient(135deg,rgba(255,255,255,.04) 0%,transparent 50%);
  pointer-events:none;z-index:3;
}
.mini-card.alpha::before{
  background:linear-gradient(135deg,rgba(255,200,50,.06) 0%,transparent 40%,rgba(255,165,0,.03) 100%);
}
.mini-card.leviathan::before{
  background:linear-gradient(135deg,rgba(231,76,60,.04) 0%,rgba(155,89,182,.03) 50%,transparent 100%);
}

/* ‚îÄ‚îÄ‚îÄ Hover States ‚îÄ‚îÄ‚îÄ */
@media(hover:hover){
  .mini-card{
    transform:perspective(800px) rotateX(var(--rx)) rotateY(var(--ry)) translateY(0);
  }
  .mini-card:hover{
    transform:perspective(800px) rotateX(var(--rx)) rotateY(var(--ry)) translateY(-6px);
    border-color:rgba(255,220,180,.12);
  }
}
@media not all and (hover:hover){
  .mini-card:active{transform:translateY(-2px)}
}

/* Rarity hover shadows */
.mini-card.hatchling:hover{box-shadow:0 8px 30px rgba(136,216,192,.12),inset 0 1px 0 rgba(255,245,230,.04);border-color:rgba(136,216,192,.2)}
.mini-card.juvenile:hover{box-shadow:0 8px 30px rgba(59,130,246,.12),0 0 15px rgba(59,130,246,.06),inset 0 1px 0 rgba(255,245,230,.04);border-color:rgba(59,130,246,.2)}
.mini-card.adult:hover{box-shadow:0 8px 30px rgba(139,92,246,.15),0 0 20px rgba(139,92,246,.08),inset 0 1px 0 rgba(255,245,230,.04);border-color:rgba(139,92,246,.2)}
.mini-card.alpha:hover{box-shadow:0 8px 35px rgba(245,158,11,.2),0 0 25px rgba(245,158,11,.1),0 0 60px rgba(245,158,11,.04),inset 0 1px 0 rgba(255,245,230,.04);border-color:rgba(245,158,11,.25)}
.mini-card.leviathan:hover{box-shadow:0 8px 40px rgba(231,76,60,.2),0 0 30px rgba(255,200,50,.08),0 0 70px rgba(231,76,60,.06),inset 0 1px 0 rgba(255,245,230,.04);border-color:rgba(231,76,60,.3)}

/* ‚îÄ‚îÄ‚îÄ Leviathan: always-on animations ‚îÄ‚îÄ‚îÄ */
.mini-card.leviathan{
  animation:leviathan-border-cycle 6s linear infinite;
}

/* ‚îÄ‚îÄ‚îÄ Adult: subtle pulsing glow ‚îÄ‚îÄ‚îÄ */
.mini-card.adult{
  animation:adult-glow-pulse 3s ease-in-out infinite;
}

/* ‚îÄ‚îÄ‚îÄ Holographic Overlay (::after) ‚îÄ‚îÄ‚îÄ */
/* Juvenile ‚Äî barely-there shimmer on hover */
@media(hover:hover){
  .mini-card.juvenile::after{
    content:'';position:absolute;inset:0;border-radius:12px;
    pointer-events:none;z-index:5;opacity:0;transition:opacity .4s;
    mix-blend-mode:overlay;
    background:conic-gradient(
      from calc(var(--mouse-x) * 360deg) at calc(var(--mouse-x) * 100%) calc(var(--mouse-y) * 100%),
      rgba(180,210,255,.04),rgba(140,180,255,.06),rgba(180,210,255,.04),transparent,rgba(180,210,255,.04)
    );
  }
  .mini-card.juvenile:hover::after{opacity:.5}

  /* Adult ‚Äî rainbow shimmer on hover */
  .mini-card.adult::after{
    content:'';position:absolute;inset:0;border-radius:12px;
    pointer-events:none;z-index:5;opacity:0;transition:opacity .4s;
    mix-blend-mode:overlay;
    background:conic-gradient(
      from calc(var(--mouse-x) * 360deg) at calc(var(--mouse-x) * 100%) calc(var(--mouse-y) * 100%),
      rgba(255,50,50,.07),rgba(255,165,0,.07),rgba(255,255,0,.07),
      rgba(50,255,50,.07),rgba(50,150,255,.07),rgba(150,50,255,.07),rgba(255,50,50,.07)
    );
  }
  .mini-card.adult:hover::after{opacity:.65}

  /* Alpha ‚Äî strong golden holo with light leak */
  .mini-card.alpha::after{
    content:'';position:absolute;inset:0;border-radius:12px;
    pointer-events:none;z-index:5;opacity:0;transition:opacity .4s;
    mix-blend-mode:color-dodge;
    background:conic-gradient(
      from calc(var(--mouse-x) * 360deg) at calc(var(--mouse-x) * 100%) calc(var(--mouse-y) * 100%),
      rgba(255,200,50,.12),rgba(255,165,0,.08),rgba(255,220,100,.12),
      rgba(255,180,0,.08),rgba(255,200,50,.12)
    );
  }
  .mini-card.alpha:hover::after{opacity:.8}

  /* Leviathan ‚Äî full prismatic, animated even without hover */
  .mini-card.leviathan::after{
    content:'';position:absolute;inset:0;border-radius:12px;
    pointer-events:none;z-index:5;
    mix-blend-mode:color-dodge;
    background:conic-gradient(
      from calc(var(--mouse-x) * 360deg) at calc(var(--mouse-x) * 100%) calc(var(--mouse-y) * 100%),
      rgba(255,50,50,.12),rgba(255,165,0,.12),rgba(255,255,0,.12),
      rgba(50,255,50,.12),rgba(50,150,255,.12),rgba(150,50,255,.12),
      rgba(255,50,150,.12),rgba(255,50,50,.12)
    );
    opacity:.25;
    animation:leviathan-holo-pulse 3s ease-in-out infinite;
    transition:opacity .4s;
  }
  .mini-card.leviathan:hover::after{opacity:.7;animation:none}
}

/* Non-hover devices: leviathan still gets a subtle shimmer */
@media not all and (hover:hover){
  .mini-card.leviathan::after{
    content:'';position:absolute;inset:0;border-radius:12px;
    pointer-events:none;z-index:5;
    mix-blend-mode:color-dodge;
    background:conic-gradient(
      from 180deg at 50% 50%,
      rgba(255,50,50,.1),rgba(255,165,0,.1),rgba(255,255,0,.1),
      rgba(50,255,50,.1),rgba(50,150,255,.1),rgba(150,50,255,.1),
      rgba(255,50,150,.1),rgba(255,50,50,.1)
    );
    opacity:.2;
    animation:leviathan-holo-pulse 3s ease-in-out infinite;
  }
}

/* ‚îÄ‚îÄ‚îÄ Card Content ‚îÄ‚îÄ‚îÄ */
.mini-emoji{font-size:48px;text-align:center;margin:8px 0 12px;line-height:1;position:relative;z-index:2}
.mini-name{
  font-family:'Cinzel',serif;font-size:14px;font-weight:700;
  text-transform:uppercase;letter-spacing:1.5px;text-align:center;
  margin-bottom:2px;position:relative;z-index:2;
}
.mini-title{font-size:9px;color:#a89984;font-style:italic;text-align:center;margin-bottom:10px;position:relative;z-index:2}
.mini-stats{display:flex;justify-content:center;gap:6px;margin-bottom:10px;position:relative;z-index:2}
.mini-stat{display:flex;align-items:center;gap:2px;font-size:9px;font-weight:700}
.mini-bottom{
  display:flex;justify-content:space-between;align-items:center;
  padding-top:8px;border-top:1px solid rgba(255,220,180,.06);
  margin-top:auto;position:relative;z-index:2;
}
.mini-cp{font-size:18px;font-weight:900;letter-spacing:-0.5px}
.cp-label{font-size:7px;font-weight:700;opacity:.4;letter-spacing:1px;margin-right:2px}

.rarity-badge{
  font-size:8px;font-weight:700;letter-spacing:1px;text-transform:uppercase;
  padding:3px 8px;border-radius:8px;
}
.rarity-badge.hatchling{background:rgba(136,216,192,.1);color:#88d8c0;border:1px solid rgba(136,216,192,.2)}
.rarity-badge.juvenile{background:rgba(59,130,246,.1);color:#60a5fa;border:1px solid rgba(59,130,246,.2)}
.rarity-badge.adult{background:rgba(139,92,246,.1);color:#a78bfa;border:1px solid rgba(139,92,246,.2)}
.rarity-badge.alpha{background:rgba(245,158,11,.1);color:#fbbf24;border:1px solid rgba(245,158,11,.2)}
.rarity-badge.leviathan{background:rgba(231,76,60,.1);color:#fca5a5;border:1px solid rgba(231,76,60,.2)}

.hatchling .mini-name{color:#a8edd8} .hatchling .mini-cp{color:#a8edd8}
.juvenile .mini-name{color:#93c5fd} .juvenile .mini-cp{color:#93c5fd}
.adult .mini-name{color:#c4b5fd} .adult .mini-cp{color:#c4b5fd}
.alpha .mini-name{color:#fcd34d} .alpha .mini-cp{color:#fbbf24}
.leviathan .mini-name{color:#fca5a5} .leviathan .mini-cp{color:#fbbf24}

.mini-verified{position:absolute;top:10px;right:10px;font-size:10px;opacity:.6;z-index:4}

/* ‚îÄ‚îÄ‚îÄ Empty state ‚îÄ‚îÄ‚îÄ */
.empty-state{
  grid-column:1/-1;text-align:center;padding:60px 20px;
  color:#6b5e52;
}
.empty-state .emoji{font-size:64px;margin-bottom:16px}
.empty-state p{font-size:14px}

/* ‚îÄ‚îÄ‚îÄ Responsive ‚îÄ‚îÄ‚îÄ */
@media(max-width:500px){
  .card-grid{grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:14px;padding:0 12px 32px}
  .mini-card{min-height:200px;padding:12px}
  .mini-emoji{font-size:36px}
  .mini-name{font-size:12px}
  .mini-cp{font-size:15px}
  .nav{padding:12px 16px;gap:16px}
}
</style>
</head>
<body>

<nav class="nav">
  <a href="/" class="nav-brand"><span class="lobster">ü¶û</span> CLAW VAULT</a>
  <div class="nav-links">
    <a href="/" >Home</a>
    <a href="/gallery" class="active">Gallery</a>
    <a href="/participate">Participate</a>
  </div>
</nav>

<div class="gallery-header">
  <h1><span class="lobster">ü¶û</span> CLAW VAULT</h1>
  <div class="sub">Collectible AI Agent Cards</div>
  <div class="count"><span id="count">{{TOTAL}}</span> cards in the collection</div>
</div>

<div class="controls" id="controls">
  <button class="active" data-sort="cp">‚ö° CP</button>
  <button data-sort="newest">üïê Newest</button>
  <button data-sort="rarity">üíé Rarity</button>
  <div class="sep"></div>
  <button class="active" data-rarity="">All</button>
  <button data-rarity="HATCHLING">üê£ Hatchling</button>
  <button data-rarity="JUVENILE">üêü Juvenile</button>
  <button data-rarity="ADULT">üåü Adult</button>
  <button data-rarity="ALPHA">üî• Alpha</button>
  <button data-rarity="LEVIATHAN">‚ö° Leviathan</button>
</div>

<div class="card-grid" id="grid"></div>

<script>
const ALL_CARDS = {{CARDS_DATA}};

const STAT_ICONS = {claw:'ü¶û',shell:'üõ°',surge:'‚ö°',cortex:'üß†',aura:'‚ú®'};
const STAT_COLORS = {claw:'#e74c3c',shell:'#3b82f6',surge:'#f59e0b',cortex:'#a855f7',aura:'#22c55e'};

let currentSort = 'cp';
let currentRarity = '';

function rarityClass(r) { return (r || 'HATCHLING').toLowerCase(); }

function renderGrid(cards) {
  const grid = document.getElementById('grid');
  if (!cards.length) {
    grid.innerHTML = '<div class="empty-state"><div class="emoji">ü¶û</div><p>No cards found in the deep...</p></div>';
    return;
  }

  grid.innerHTML = cards.map(card => {
    const cls = rarityClass(card.rarity);
    const statsHtml = Object.entries(card.stats || {}).slice(0, 3).map(([k, v]) =>
      `<div class="mini-stat"><span style="color:${STAT_COLORS[k]||'#fff'}">${STAT_ICONS[k]||''}</span><span style="color:${STAT_COLORS[k]||'#fff'}">${v}</span></div>`
    ).join('');

    return `<a href="/card/${card.id}" class="mini-card ${cls}">
      ${card.signature ? '<div class="mini-verified" title="Verified">‚úì</div>' : ''}
      ${card.has_image && card.image_url ? `<div class="mini-emoji" style="background-image:url('${card.image_url}');background-size:cover;background-position:center;border-radius:8px;height:80px;font-size:0"></div>` : `<div class="mini-emoji">${card.emoji || 'ü¶û'}</div>`}
      <div class="mini-name">${card.agent_name}</div>
      <div class="mini-title">${card.title || ''}</div>
      <div class="mini-stats">${statsHtml}</div>
      <div class="mini-bottom">
        <div class="mini-cp"><span class="cp-label">CP</span>${card.cp}</div>
        <div class="rarity-badge ${cls}">${card.rarity}</div>
      </div>
    </a>`;
  }).join('');

  document.getElementById('count').textContent = cards.length;
}

function sortCards(cards, sort) {
  const sorted = [...cards];
  switch(sort) {
    case 'newest': sorted.sort((a,b) => (b.published_at||'').localeCompare(a.published_at||'')); break;
    case 'rarity': sorted.sort((a,b) => (b.score||0) - (a.score||0)); break;
    case 'cp': default: sorted.sort((a,b) => (b.cp||0) - (a.cp||0));
  }
  return sorted;
}

function filterAndRender() {
  let cards = ALL_CARDS;
  if (currentRarity) {
    cards = cards.filter(c => c.rarity === currentRarity);
  }
  cards = sortCards(cards, currentSort);
  renderGrid(cards);
}

document.getElementById('controls').addEventListener('click', e => {
  const btn = e.target.closest('button');
  if (!btn) return;

  if (btn.dataset.sort !== undefined) {
    currentSort = btn.dataset.sort;
    document.querySelectorAll('[data-sort]').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
  }
  if (btn.dataset.rarity !== undefined) {
    currentRarity = btn.dataset.rarity;
    document.querySelectorAll('[data-rarity]').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
  }

  filterAndRender();
});

filterAndRender();

/* ‚ïê‚ïê‚ïê Holographic Mouse Tracking (desktop only, event delegation) ‚ïê‚ïê‚ïê */
if (window.matchMedia('(hover: hover)').matches) {
  const grid = document.getElementById('grid');

  grid.addEventListener('mousemove', function(e) {
    const card = e.target.closest('.mini-card');
    if (!card || card.classList.contains('hatchling')) return;
    const rect = card.getBoundingClientRect();
    const x = (e.clientX - rect.left) / rect.width;
    const y = (e.clientY - rect.top) / rect.height;
    card.style.setProperty('--mouse-x', x.toFixed(3));
    card.style.setProperty('--mouse-y', y.toFixed(3));
    const rx = ((y - 0.5) * -10).toFixed(2);
    const ry = ((x - 0.5) * 10).toFixed(2);
    card.style.setProperty('--rx', rx + 'deg');
    card.style.setProperty('--ry', ry + 'deg');
  });

  grid.addEventListener('mouseout', function(e) {
    const card = e.target.closest('.mini-card');
    if (card && !card.contains(e.relatedTarget)) {
      card.style.setProperty('--mouse-x', '0.5');
      card.style.setProperty('--mouse-y', '0.5');
      card.style.setProperty('--rx', '0deg');
      card.style.setProperty('--ry', '0deg');
    }
  });
}
</script>
</body>
</html>
